<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:PetInsulinTracker.ViewModels"
             xmlns:mi="http://www.aathifmahir.com/dotnet/2022/maui/icons"
             x:Class="PetInsulinTracker.Views.VetInfoPage"
             x:DataType="vm:VetInfoViewModel"
             Title="Vet Information"
             BackgroundColor="{DynamicResource PageBackground}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="16">

            <!-- Vet Contact Card -->
            <Label Text="VETERINARIAN" Style="{StaticResource OverlineStyle}" />

            <Border Style="{StaticResource CardStyleElevated}">
                <VerticalStackLayout Spacing="12">
                    <VerticalStackLayout Spacing="4">
                        <Label Text="Vet Name" Style="{StaticResource FormLabelStyle}" />
                        <Entry Text="{Binding VetName}" Placeholder="Dr. Smith" />
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="4">
                        <Label Text="Clinic Name" Style="{StaticResource FormLabelStyle}" />
                        <Entry Text="{Binding ClinicName}" Placeholder="Happy Paws Clinic" />
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="4">
                        <Label Text="Phone" Style="{StaticResource FormLabelStyle}" />
                        <Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
                            <Entry Grid.Column="0" Text="{Binding Phone}" Keyboard="Telephone" Placeholder="(555) 123-4567" />
                            <Button Grid.Column="1" Text="Call"
                                    Style="{StaticResource QuickActionButtonStyle}"
                                    Command="{Binding CallVetCommand}"
                                    SemanticProperties.Hint="Call vet" />
                        </Grid>
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="4">
                        <Label Text="Emergency Phone" Style="{StaticResource FormLabelStyle}" />
                        <Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
                            <Entry Grid.Column="0" Text="{Binding EmergencyPhone}" Keyboard="Telephone" Placeholder="(555) 987-6543" />
                            <Button Grid.Column="1" Text="Emergency"
                                    Style="{StaticResource DangerButtonStyle}"
                                    FontSize="13" Padding="12,8"
                                    Command="{Binding CallEmergencyCommand}"
                                    SemanticProperties.Hint="Call emergency vet" />
                        </Grid>
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="4">
                        <Label Text="Address" Style="{StaticResource FormLabelStyle}" />
                        <Entry Text="{Binding Address}" Placeholder="123 Main St" />
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="4">
                        <Label Text="Email" Style="{StaticResource FormLabelStyle}" />
                        <Entry Text="{Binding Email}" Keyboard="Email" Placeholder="vet@clinic.com" />
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="4">
                        <Label Text="Notes" Style="{StaticResource FormLabelStyle}" />
                        <Editor Text="{Binding VetNotes}" Placeholder="Additional notes..." HeightRequest="100" />
                    </VerticalStackLayout>

                    <HorizontalStackLayout Spacing="6" IsVisible="{Binding IsSyncing}" HorizontalOptions="Center">
                        <ActivityIndicator IsRunning="{Binding IsSyncing}" HeightRequest="14" WidthRequest="14"
                                         Color="{DynamicResource Primary}" />
                        <Label Text="Syncing…" FontSize="12" VerticalOptions="Center"
                               TextColor="{DynamicResource Primary}" />
                    </HorizontalStackLayout>

                    <Button Text="Save" Command="{Binding SaveCommand}"
                            Style="{StaticResource PrimaryButtonStyle}"
                            HorizontalOptions="Fill"
                            IsEnabled="{Binding IsSyncing, Converter={StaticResource InvertedBoolConverter}}" />
                </VerticalStackLayout>
            </Border>

            <!-- Pro Tips -->
            <Label Text="DIABETIC PET CARE TIPS" Style="{StaticResource OverlineStyle}" />

            <Border Style="{StaticResource WarningBoxStyle}">
                <VerticalStackLayout Spacing="4">
                    <Label Text="Signs of Hypoglycemia" FontFamily="OpenSansSemibold" FontSize="15" />
                    <Label Text="Watch for: weakness, trembling, disorientation, seizures, or loss of consciousness. Rub corn syrup or honey on gums and call your vet immediately."
                           Style="{StaticResource SubtleTextStyle}" FontSize="13" />
                </VerticalStackLayout>
            </Border>

            <Border Style="{StaticResource InfoBoxStyle}">
                <VerticalStackLayout Spacing="4">
                    <Label Text="Injection Tips" FontFamily="OpenSansSemibold" FontSize="15" />
                    <Label FontSize="13" Text="• Rotate injection sites to prevent tissue damage&#10;• Gently roll the vial — never shake it&#10;• Use correct syringe (U-40 for Vetsulin/ProZinc, U-100 for Lantus/NPH)" />
                </VerticalStackLayout>
            </Border>

            <Border Style="{StaticResource InfoBoxStyle}">
                <VerticalStackLayout Spacing="4">
                    <Label Text="Feeding &amp; Insulin Timing" FontFamily="OpenSansSemibold" FontSize="15" />
                    <Label FontSize="13" Text="• Dogs: Feed before injection time&#10;• Cats: Can free-feed or time meals with injections&#10;• Never give insulin if your pet hasn't eaten — call your vet&#10;• Always check with your vet!" />
                </VerticalStackLayout>
            </Border>

            <Border Style="{StaticResource InfoBoxStyle}">
                <VerticalStackLayout Spacing="4">
                    <Label Text="When to Call Your Vet" FontFamily="OpenSansSemibold" FontSize="15" />
                    <Label FontSize="13" Text="• Pet refuses to eat for more than 24 hours&#10;• Excessive drinking or urination&#10;• Vomiting or diarrhea&#10;• Lethargy or weakness&#10;• Any signs of hypoglycemia" />
                </VerticalStackLayout>
            </Border>

            <Border Style="{StaticResource InfoBoxStyle}">
                <VerticalStackLayout Spacing="4">
                    <Label Text="Insulin Storage" FontFamily="OpenSansSemibold" FontSize="15" />
                    <Label FontSize="13" Text="• Store unopened insulin in the refrigerator&#10;• Once opened, most insulin is good for 28-42 days&#10;• Never freeze insulin&#10;• Check expiration dates regularly" />
                </VerticalStackLayout>
            </Border>

            <BoxView HeightRequest="20" BackgroundColor="Transparent" />

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
